{% include head.html %}

<body>
    {% include header.html %}
    {{ content }}
    {% include footer.html %}

    <!-- DELETE ON RELEASE -->
    {% if jekyll.environment == "production" %}
        <style>
            body {
                --image: none;
            }

            body:after {
                content: "";
                background-image: var(--image);
                position: fixed;
                width: 100%;
                height: 100%;
                top: 0;
                z-index: 999;
                pointer-events: none;
            }
        </style>
        <script>
            var setBackground = function() {
                var text = "Work in Progress";
                var svgstring = `
                <svg id="diagtext" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="100%" height="100%">
                    <style type="text/css">text { fill: darkgray; font-family: Avenir, Arial, Helvetica, sans-serif; }</style>
                    <defs>
                        <pattern id="watermark" patternUnits="userSpaceOnUse" width="400" height="200">
                            <text y="30" font-size="40" opacity="0.6" id="name">
                                `+text+`
                            </text>
                        </pattern>
                        <pattern id="combo" xlink:href="#watermark" patternTransform="rotate(-45)">
                            <use xlink:href="#name" />
                        </pattern>
                    </defs>
                    <rect width="100%" height="100%" fill="url(#combo)" />
                </svg>`;
                document.querySelector("body").style.setProperty("--image", "url('data:image/svg+xml;base64,"+window.btoa(svgstring)+"')");
            }
            setBackground();
        </script>
    {% endif %}
</body>